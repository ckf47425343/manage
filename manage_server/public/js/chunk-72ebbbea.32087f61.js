(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72ebbbea"],{2609:function(e,t,r){"use strict";r("7d28")},7047:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"buddle"},[r("div",{staticClass:"bg-box"},e._l(e.bubbles,(function(e,t){return r("div",{key:t,staticClass:"bubble_box"})})),0),e._t("default")],2)},a=[],o={name:"Buddle",data:function(){return{bubbles:10}}},i=o,n=(r("2609"),r("2877")),l=Object(n["a"])(i,s,a,!1,null,"99d23818",null);t["a"]=l.exports},"73cf":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("Buddle",[r("div",{staticClass:"content_box"},[r("div",{staticClass:"register_box"},[r("el-form",{ref:"registerInfo",attrs:{model:e.registerInfo,"status-icon":"",rules:e.rules}},[r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱","auto-complete":"off"},model:{value:e.registerInfo.email,callback:function(t){e.$set(e.registerInfo,"email",t)},expression:"registerInfo.email"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码",type:"password","auto-complete":"off"},model:{value:e.registerInfo.password,callback:function(t){e.$set(e.registerInfo,"password",t)},expression:"registerInfo.password"}})],1),r("el-form-item",{attrs:{prop:"repassword"}},[r("el-input",{attrs:{placeholder:"再次输入密码",type:"password",autocomplete:"off"},model:{value:e.registerInfo.repassword,callback:function(t){e.$set(e.registerInfo,"repassword",t)},expression:"registerInfo.repassword"}})],1),r("el-form-item",{staticClass:"clearfix",attrs:{prop:"vaildcode"}},[r("el-input",{staticClass:"fl input_code",attrs:{placeholder:"请输入验证码",autocomplete:"off"},model:{value:e.registerInfo.vaildcode,callback:function(t){e.$set(e.registerInfo,"vaildcode",t)},expression:"registerInfo.vaildcode"}}),r("el-button",{staticClass:"fr send_btn ",attrs:{disabled:e.isSend},on:{click:e.sendCode}},[e._v(e._s(e.text))])],1),r("el-form-item",[r("el-button",{staticClass:"register_btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("registerInfo")}}},[e._v("注册")])],1)],1)],1)])])],1)},a=[],o=r("7047"),i=(r("f032"),{name:"Register",components:{Buddle:o["a"]},data:function(){return{registerInfo:{email:"",password:"",repassword:"",vaildcode:""},rules:{email:[{validator:this.vaildEmail,trigger:"blur"}],password:[{validator:this.vaildPassWord,trigger:"blur"}],repassword:[{validator:this.vaildRePassWord,trigger:"blur"}],vaildcode:[{validator:this.vaildCode,trigger:"blur"}]},text:"获取验证码",isSend:!1,codeId:""}},methods:{vaildEmail:function(e,t,r){if(!t)return r(new Error("邮箱不能为空"));setTimeout((function(){var e=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!e.test(t))return r(new Error("邮箱格式不正确"));r()}),1e3)},vaildPassWord:function(e,t,r){if(!t)return r(new Error("密码不能为空"));var s=/^[A-Za-z]\w{5,15}$/;return s.test(t)?r():r(new Error("输入的密码格式不正确"))},vaildRePassWord:function(e,t,r){return t?t!=this.registerInfo.password?r(new Error("密码输入不一致")):r():r(new Error("密码不能为空"))},vaildCode:function(e,t,r){if(!t)return r(new Error("验证码不能为空"));var s=/^\d{6}$/;return s.test(t)?r():r(new Error("验证码的格式不正确"))},sendCode:function(){var e=this,t=this.registerInfo.email;if(t){var r=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(r.test(t)){this.isSend=!0,this.text="5s";var s=5,a=setInterval((function(){if(s--,e.text=s+"s",s<0)return e.text="获取验证码",clearInterval(a),void(e.isSend=!1)}),1e3);this.axios({method:"POST",url:this.baseUrl+"/email",data:{email:this.registerInfo.email}}).then((function(t){console.log("res==>",t),1010==t.data.status&&(e.codeId=t.data.cid)})).catch((function(e){console.log("err==>",e)}))}}},submitForm:function(e){var t=this;if(!this.codeId)return this.$message({message:"先发送验证码",type:"warning"});this.$refs[e].validate((function(e){e&&t.axios({method:"POST",url:t.baseUrl+"/register",data:{email:t.registerInfo.email,password:t.registerInfo.password,vaildcode:t.registerInfo.vaildcode,codeId:t.codeId}}).then((function(e){1e3==e.data.status&&(t.$message({message:e.data.msg,type:"success"}),setTimeout((function(){t.$router.push({name:"Login"})}),1e3)),1001==e.data.status&&t.$message({message:e.data.msg,type:"error"}),1002==e.data.status&&t.$message({message:e.data.msg,type:"error"})})).catch((function(e){console.log("err ==> ",e)}))}))}}}),n=i,l=r("2877"),d=Object(l["a"])(n,s,a,!1,null,"7aa9d192",null);t["default"]=d.exports},"7d28":function(e,t,r){},f032:function(e,t,r){}}]);
//# sourceMappingURL=chunk-72ebbbea.32087f61.js.map